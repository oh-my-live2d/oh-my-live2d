(function(m,l){typeof exports=="object"&&typeof module!="undefined"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(m=typeof globalThis!="undefined"?globalThis:m||self,l(m.OML2D={}))})(this,function(m){"use strict";var Tt=Object.defineProperty;var G=Object.getOwnPropertySymbols;var Et=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable;var A=(m,l,d)=>l in m?Tt(m,l,{enumerable:!0,configurable:!0,writable:!0,value:d}):m[l]=d,K=(m,l)=>{for(var d in l||(l={}))Et.call(l,d)&&A(m,d,l[d]);if(G)for(var d of G(l))Ct.call(l,d)&&A(m,d,l[d]);return m};var n=(m,l,d)=>(A(m,typeof l!="symbol"?l+"":l,d),d);var r=(m,l,d)=>new Promise((O,S)=>{var k=g=>{try{a(d.next(g))}catch(T){S(T)}},b=g=>{try{a(d.throw(g))}catch(T){S(T)}},a=g=>g.done?O(g.value):Promise.resolve(g.value).then(k,b);a((d=d.apply(m,l)).next())});window._iconfont_svg_string_3847283='<svg><symbol id="icon-rest" viewBox="0 0 1280 1024"><path d="M352 512c88.22 0 160-71.78 160-160s-71.78-160-160-160-160 71.78-160 160 71.78 160 160 160z m704-256H608c-17.68 0-32 14.32-32 32v288H128V160c0-17.68-14.32-32-32-32H32C14.32 128 0 142.32 0 160v704c0 17.68 14.32 32 32 32h64c17.68 0 32-14.32 32-32v-96h1024v96c0 17.68 14.32 32 32 32h64c17.68 0 32-14.32 32-32V480c0-123.72-100.28-224-224-224z"  ></path></symbol><symbol id="icon-about" viewBox="0 0 1024 1024"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64z m32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272z m-32-344c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"  ></path></symbol><symbol id="icon-like" viewBox="0 0 1024 1024"><path d="M923 283.6c-13.4-31.1-32.6-58.9-56.9-82.8-24.3-23.8-52.5-42.4-84-55.5-32.5-13.5-66.9-20.3-102.4-20.3-49.3 0-97.4 13.5-139.2 39-10 6.1-19.5 12.8-28.5 20.1-9-7.3-18.5-14-28.5-20.1-41.8-25.5-89.9-39-139.2-39-35.5 0-69.9 6.8-102.4 20.3-31.4 13-59.7 31.7-84 55.5-24.4 23.9-43.5 51.7-56.9 82.8-13.9 32.3-21 66.6-21 101.9 0 33.3 6.8 68 20.3 103.3 11.3 29.5 27.5 60.1 48.2 91 32.8 48.9 77.9 99.9 133.9 151.6 92.8 85.7 184.7 144.9 188.6 147.3l23.7 15.2c10.5 6.7 24 6.7 34.5 0l23.7-15.2c3.9-2.5 95.7-61.6 188.6-147.3 56-51.7 101.1-102.7 133.9-151.6 20.7-30.9 37-61.5 48.2-91 13.5-35.3 20.3-70 20.3-103.3 0.1-35.3-7-69.6-20.9-101.9z"  ></path></symbol><symbol id="icon-skin" viewBox="0 0 1024 1024"><path d="M870 126H663.8c-17.4 0-32.9 11.9-37 29.3C614.3 208.1 567 246 512 246s-102.3-37.9-114.8-90.7c-4.1-17.4-19.5-29.3-37-29.3H154c-24.3 0-44 19.7-44 44v252c0 24.3 19.7 44 44 44h75v388c0 24.3 19.7 44 44 44h478c24.3 0 44-19.7 44-44V466h75c24.3 0 44-19.7 44-44V170c0-24.3-19.7-44-44-44z"  ></path></symbol><symbol id="icon-setting" viewBox="0 0 1024 1024"><path d="M512.5 390.6c-29.9 0-57.9 11.6-79.1 32.8-21.1 21.2-32.8 49.2-32.8 79.1 0 29.9 11.7 57.9 32.8 79.1 21.2 21.1 49.2 32.8 79.1 32.8 29.9 0 57.9-11.7 79.1-32.8 21.1-21.2 32.8-49.2 32.8-79.1 0-29.9-11.7-57.9-32.8-79.1-21.2-21.2-49.2-32.8-79.1-32.8z"  ></path><path d="M924.8 626.1l-65.4-55.9c3.1-19 4.7-38.4 4.7-57.7s-1.6-38.8-4.7-57.7l65.4-55.9c10.1-8.6 13.8-22.6 9.3-35.2l-0.9-2.6c-18.1-50.4-44.8-96.8-79.6-137.7l-1.8-2.1c-8.6-10.1-22.5-13.9-35.1-9.5l-81.2 28.9c-30-24.6-63.4-44-99.6-57.5l-15.7-84.9c-2.4-13.1-12.7-23.3-25.8-25.7l-2.7-0.5c-52-9.4-106.8-9.4-158.8 0l-2.7 0.5c-13.1 2.4-23.4 12.6-25.8 25.7l-15.8 85.3c-35.9 13.6-69.1 32.9-98.9 57.3l-81.8-29.1c-12.5-4.4-26.5-0.7-35.1 9.5l-1.8 2.1c-34.8 41.1-61.5 87.4-79.6 137.7l-0.9 2.6c-4.5 12.5-0.8 26.5 9.3 35.2l66.2 56.5c-3.1 18.8-4.6 38-4.6 57 0 19.2 1.5 38.4 4.6 57l-66 56.5c-10.1 8.6-13.8 22.6-9.3 35.2l0.9 2.6c18.1 50.3 44.8 96.8 79.6 137.7l1.8 2.1c8.6 10.1 22.5 13.9 35.1 9.5l81.8-29.1c29.8 24.5 63 43.9 98.9 57.3l15.8 85.3c2.4 13.1 12.7 23.3 25.8 25.7l2.7 0.5c26.1 4.7 52.7 7.1 79.4 7.1 26.7 0 53.4-2.4 79.4-7.1l2.7-0.5c13.1-2.4 23.4-12.6 25.8-25.7l15.7-84.9c36.2-13.6 69.6-32.9 99.6-57.5l81.2 28.9c12.5 4.4 26.5 0.7 35.1-9.5l1.8-2.1c34.8-41.1 61.5-87.4 79.6-137.7l0.9-2.6c4.3-12.4 0.6-26.3-9.5-35z m-412.3 52.2c-97.1 0-175.8-78.7-175.8-175.8s78.7-175.8 175.8-175.8 175.8 78.7 175.8 175.8-78.7 175.8-175.8 175.8z"  ></path></symbol><symbol id="icon-switch" viewBox="0 0 1024 1024"><path d="M512 565c133.7 0 242-108.3 242-242S645.7 81 512 81 270 189.3 270 323s108.3 242 242 242z m4.8 299.3a264.4 264.4 0 0 1 0-205.6c2.3-5.4 4.8-10.8 7.4-16a4 4 0 0 0-3.7-5.8H512a311.4 311.4 0 0 1-122.2-24.7 319.8 319.8 0 0 1-57.9-32 4 4 0 0 0-4.2-0.3C208.7 645.3 128 771.7 128 917v25a4 4 0 0 0 4 4h429.9a4 4 0 0 0 3-6.7 261.9 261.9 0 0 1-48.1-75zM760 568c-106 0-192 86-192 192s86 192 192 192 192-86 192-192-86-192-192-192z m-98.4 136a4 4 0 0 1 4-4h124v-33.4c0-16 20.8-22.1 29.4-8.7l36.9 57.5a16 16 0 0 1-13.5 24.6H665.6a4 4 0 0 1-4-4z m196.8 112a4 4 0 0 1-4 4h-124v33.4c0 16-20.8 22.1-29.4 8.7l-36.9-57.5a16 16 0 0 1 13.5-24.6h176.8a4 4 0 0 1 4 4z"  ></path></symbol><symbol id="icon-loading" viewBox="0 0 1024 1024"><path d="M563.2 819.2a102.4 102.4 0 1 1 0 204.8 102.4 102.4 0 0 1 0-204.8z m-320.4608-153.6a128 128 0 1 1 0 256 128 128 0 0 1 0-256z m592.7936 25.6a102.4 102.4 0 1 1 0 204.8 102.4 102.4 0 0 1 0-204.8zM947.2 477.1328a76.8 76.8 0 1 1 0 153.6 76.8 76.8 0 0 1 0-153.6zM128 307.2a128 128 0 1 1 0 256 128 128 0 0 1 0-256z m782.6432-40.6016a51.2 51.2 0 1 1 0 102.4 51.2 51.2 0 0 1 0-102.4zM409.6 0a153.6 153.6 0 1 1 0 307.2 153.6 153.6 0 0 1 0-307.2z m384 153.6a25.6 25.6 0 1 1 0 51.2 25.6 25.6 0 0 1 0-51.2z"  ></path></symbol></svg>',function(s){var e=(e=document.getElementsByTagName("script"))[e.length-1],t=e.getAttribute("data-injectcss"),e=e.getAttribute("data-disable-injectsvg");if(!e){var i,o,h,y,C,_=function(M,p){p.parentNode.insertBefore(M,p)};if(t&&!s.__iconfont__svg__cssinject__){s.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(M){console&&console.log(M)}}i=function(){var M,p=document.createElement("div");p.innerHTML=s._iconfont_svg_string_3847283,(p=p.getElementsByTagName("svg")[0])&&(p.setAttribute("aria-hidden","true"),p.style.position="absolute",p.style.width=0,p.style.height=0,p.style.overflow="hidden",p=p,(M=document.body).firstChild?_(p,M.firstChild):M.appendChild(p))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(i,0):(o=function(){document.removeEventListener("DOMContentLoaded",o,!1),i()},document.addEventListener("DOMContentLoaded",o,!1)):document.attachEvent&&(h=i,y=s.document,C=!1,L(),y.onreadystatechange=function(){y.readyState=="complete"&&(y.onreadystatechange=null,B())})}function B(){C||(C=!0,h())}function L(){try{y.documentElement.doScroll("left")}catch(M){return void setTimeout(L,50)}B()}}(window);const l=s=>{const t=s.length;if(t===0)return;const e=Math.floor(Math.random()*t);return s[e]},d=(s,t)=>{let e;return{start:function(){return r(this,null,function*(){const i=()=>r(this,null,function*(){e&&(yield s(),clearTimeout(e),e=setTimeout(i,t))});e||(clearTimeout(e),e=setTimeout(i,t))})},stop:function(){clearTimeout(e),e=void 0}}},O=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),S=s=>typeof s=="number"||s instanceof Number,k=s=>Array.isArray(s),b=s=>typeof s=="function",a=(s,t)=>{const e=Object.assign({},s);return O(s)&&O(t)&&Object.keys(t).forEach(i=>{O(t[i])?i in s?e[i]=a(s[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e};class g{constructor(){n(this,"eventMap",new Map)}add(t,e){if(!e)return;const i=this.eventMap.get(t)||[];i.push(e),this.eventMap.set(t,i)}emit(t,...e){const i=this.eventMap.get(t);i==null||i.forEach(o=>void o(...e))}}class T{constructor(t,e){n(this,"app");this.PIXI=t,this.stage=e,this.app=new this.PIXI.Application({view:this.stage.canvasElement,resolution:2,autoStart:!0,autoDensity:!0,backgroundAlpha:0,resizeTo:this.stage.element})}mount(t){t?(this.clearAppStage(),this.app.stage.addChild(t)):console.error("ÊåÇËΩΩÊ®°ÂûãÂ§±Ë¥•")}unMount(){this.clearAppStage()}clearAppStage(){var e;(((e=this.app)==null?void 0:e.stage.children.length)||0)>0&&this.app.stage.removeChildren(0)}resize(){var t;(t=this.app)==null||t.resize()}}const D=s=>`
  @keyframes oml2d-shake-tips{
    0% {
      transform: translate(-50%, 5%) scale(0.99);
    }
    50% {
   
      transform: translate(-50%, 0%) scale(1);
    }
    100% {
      transform: translate(-50%, 5%) scale(0.99);
    }
  }
  
  @keyframes oml2d-stage-slide-in {
    from {
      transform: translateY(130%);
    }
    to {
      transform: translateY(0%);
    }
  }
  
  @keyframes oml2d-stage-slide-out {
    from {
      transform: translateY(0%);
    }
    to {
      transform: translateY(130%);
    }
  }
  
  @keyframes oml2d-display-tips {
    0% {
      opacity: 0;
      visibility: hidden;
    }
    100% {
      opacity: 1;
      visibility: visible;
    }
  }
  
  @keyframes oml2d-hidden-tips {
    0% {
      opacity: 1;
      visibility: visible;
    }
    100% {
      opacity: 0;
      visibility: hidden;
    }
  }

  @keyframes oml2d-loading-rotate {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }

  .oml2d-icon {
    width: 1em; 
    height: 1em;
    vertical-align: -0.15em;
    fill: currentColor;
    overflow: hidden;
  }
  
  .oml2d-loading{
    animation-name: oml2d-loading-rotate;
    animation-duration: 600ms;
    animation-iteration-count: infinite;
    animation-timing-function: linear;
  }

  .oml2d-menus-item {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    justify-content: center;
    box-sizing: border-box;
    align-items: center;
    transition: all 300ms;
    color: ${s};
    cursor: pointer;
    background-color: #fff;
  }
  
  .oml2d-menus-item:hover {
    background-color: ${s};
    color: #fff;
    box-shadow: 0 0 5px #000;
  }
  
  #${f.menus} .oml2d-menus-item:not(:last-child) {
    margin-bottom: 10px;
  }
  
  @keyframes oml2d-status-bar-left-slide-out {
    0% {
      transform: translateX(-8%);
    }
    100% {
      transform: translateX(-120%);
    }
  }
  
  
  @keyframes oml2d-status-bar-left-slide-in {
    0% {
      transform: translateX(-120%);
    }
    100% {
      transform: translateX(-8%);
    }
  }

  @keyframes oml2d-status-bar-right-slide-out {
    0% {
      transform: translateX(8%);
    }
    100% {
      transform: translateX(120%);
    }
  }
  
  
  @keyframes oml2d-status-bar-right-slide-in {
    0% {
      transform: translateX(120%);
    }
    100% {
      transform: translateX(8%);
    }
  }
  `,J={},q={width:"0px",height:"0px",position:"fixed",right:"auto",bottom:0,zIndex:"9997",transform:"translateY(130%)"},N={position:"absolute",fontSize:"18px",borderRadius:"10px",filter:"drop-shadow(0 0 5px #999)",border:"2px solid #fff",color:"#fff",padding:"5px 5px",opacity:0,visibility:"hidden",transform:"translateX(-50%)",textAlign:"center",justifyContent:"center",animationDuration:"1000ms,1000ms",animationFillMode:"forwards, none",animationIterationCount:"1, infinite",width:"60%",left:"50%",top:0,display:"flex",alignItems:"center",minHeight:"100px"},z={minWidth:"20px",minHeight:"40px",position:"fixed",transform:"translateX(-110%)",bottom:"80px",padding:"7px 5px",zIndex:"9998",borderStyle:"solid",borderColor:"#fff",fontWeight:"bold",borderRadius:"5px",borderWidth:"2px",boxShadow:"0 0 5px #999",color:"#fff",display:"flex",alignItems:"center",textAlign:"center",flexWrap:"wrap",fontSize:"14px",writingMode:"vertical-lr",cursor:"pointer"},H={transition:"all 500ms",visibility:"hidden",opacity:0,position:"absolute",bottom:"10%",zIndex:"9999",fontSize:"26px"},Q="#38B0DE",Z="#F08080",P="https://lib.oml2d.com",x={dockedPosition:"left",mobileDisplay:!1,primaryColor:Q,sayHello:!0,transitionTime:1e3,parentElement:document.body,importType:"complete",libraryUrls:{complete:`${P}/complete.js`,cubism2:`${P}/cubism2.js`,cubism5:`${P}/cubism5.js`},stageStyle:J,models:[],statusBar:{disable:!1,transitionTime:800,switchingMessage:"Ê≠£Âú®ÂàáÊç¢",loadingMessage:"Âä†ËΩΩ‰∏≠",loadSuccessMessage:"Âä†ËΩΩÊàêÂäü",loadFailMessage:"Âä†ËΩΩÂ§±Ë¥•",reloadMessage:"ÈáçÊñ∞Âä†ËΩΩ",restMessage:"ÁúãÊùøÂ®ò‰ºëÊÅØ‰∏≠",restMessageDuration:8e3,loadingIcon:"icon-loading",errorColor:Z,style:z,mobileStyle:z},tips:{messageLine:3,mobileStyle:N,style:N,idleTips:{wordTheDay:!1,message:[],duration:5e3,interval:1e4,priority:2},welcomeTips:{message:{daybreak:"Êó©‰∏äÂ•ΩÔºÅ‰∏ÄÊó•‰πãËÆ°Âú®‰∫éÊô®ÔºåÁæéÂ•ΩÁöÑ‰∏ÄÂ§©Â∞±Ë¶ÅÂºÄÂßã‰∫Ü„ÄÇ",morning:"‰∏äÂçàÂ•ΩÔºÅÂ∑•‰ΩúÈ°∫Âà©ÂòõÔºå‰∏çË¶Å‰πÖÂùêÔºåÂ§öËµ∑Êù•Ëµ∞Âä®Ëµ∞Âä®Âì¶ÔºÅ",noon:"‰∏≠Âçà‰∫ÜÔºåÂ∑•‰Ωú‰∫Ü‰∏Ä‰∏™‰∏äÂçàÔºåÁé∞Âú®ÊòØÂçàÈ§êÊó∂Èó¥ÔºÅ",afternoon:"ÂçàÂêéÂæàÂÆπÊòìÁäØÂõ∞Âë¢ÔºåÊù•ÊùØÂíñÂï°Âêß~",dusk:"ÂÇçÊôö‰∫ÜÔºÅÂ∑•‰Ωú‰∏ÄÂ§©Âπ∏Ëã¶Âï¶~",night:"Êôö‰∏äÂ•ΩÔºå‰ªäÂ§©ËøáÂæóÊÄé‰πàÊ†∑Âë¢Ôºü",lateNight:"Â∑≤ÁªèËøô‰πàÊôö‰∫ÜÂëÄÔºåÊó©ÁÇπ‰ºëÊÅØÂêßÔºåÊôöÂÆâ~",weeHours:"Ëøô‰πàÊôöËøò‰∏çÁù°ÂêóÔºüÂΩìÂøÉÁÜ¨Â§úÁßÉÂ§¥Âì¶ÔºÅ"},duration:6e3,priority:3},copyTips:{duration:3e3,priority:3,message:["‰Ω†Â§çÂà∂‰∫Ü‰ªÄ‰πàÂÜÖÂÆπÂë¢?ËÆ∞ÂæóÊ≥®ÊòéÂá∫Â§ÑÂì¶~"]}},menus:{disable:!1,items:[{id:"Rest",icon:"icon-rest",title:"‰ºëÊÅØ",onClick(s){s.statusBarOpen(s.options.statusBar.restMessage),s.clearTips(),s.setStatusBarClickEvent(()=>{s.statusBarClose(),s.stageSlideIn(),s.statusBarClearEvents()}),s.stageSlideOut()}},{id:"SwitchModelClothes",icon:"icon-switch",title:"ÂàáÊç¢Ë°£Êúç",onClick(s){s.loadNextModelClothes()}},{id:"SwitchModel",icon:"icon-switch",title:"ÂàáÊç¢Ê®°Âûã",onClick(s){s.loadNextModel()}},{id:"About",icon:"icon-about",title:"ÂÖ≥‰∫é",onClick(){window.open("https://oml2d.com")}}],style:H,itemStyle:{},mobileStyle:H,mobileItemStyle:{}},initialStatus:"active"},f={globalStyle:"oml2d-global-style",stage:"oml2d-stage",canvas:"oml2d-canvas",statusBar:"oml2d-statusBar",tips:"oml2d-tips",menus:"oml2d-menus",iconSvg:"oml2d-icon-svg"},tt=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,$=s=>{if(typeof s!="string")throw new TypeError("Invalid argument expected string");const t=s.match(tt);if(!t)throw new Error(`Invalid argument not valid semver ('${s}' received)`);return t.shift(),t},R=s=>s==="*"||s==="x"||s==="X",F=s=>{const t=parseInt(s,10);return isNaN(t)?s:t},et=(s,t)=>typeof s!=typeof t?[String(s),String(t)]:[s,t],st=(s,t)=>{if(R(s)||R(t))return 0;const[e,i]=et(F(s),F(t));return e>i?1:e<i?-1:0},j=(s,t)=>{for(let e=0;e<Math.max(s.length,t.length);e++){const i=st(s[e]||"0",t[e]||"0");if(i!==0)return i}return 0},it=(s,t)=>{const e=$(s),i=$(t),o=e.pop(),h=i.pop(),y=j(e,i);return y!==0?y:o&&h?j(o.split("."),h.split(".")):o||h?o?-1:1:0},ot=(s,t,e)=>{nt(e);const i=it(s,t);return X[e].includes(i)},X={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},U=Object.keys(X),nt=s=>{if(typeof s!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof s}`);if(U.indexOf(s)===-1)throw new Error(`Invalid operator, expected one of ${U.join("|")}`)};var c=(s=>(s.pc="PC",s.mobile="MOBILE",s))(c||{}),Y=(s=>(s.ALL="ALL",s.IDLE="IDLE",s.NONE="NONE",s))(Y||{});const at=function(s){const{message:t}=s;let e="";const i=new Date().getHours().toString(),o=/^[5-7]$/,h=/^(?:[8-9]|1[0-1])$/,y=/^(1[2-3])$/,C=/^1[4-7]$/,_=/^1[8-9]$/,B=/^2[0-1]$/,L=/^2[2-3]$/;return o.test(i)?e=t.daybreak:h.test(i)?e=t==null?void 0:t.morning:y.test(i)?e=t==null?void 0:t.noon:C.test(i)?e=t==null?void 0:t.afternoon:_.test(i)?e=t==null?void 0:t.dusk:B.test(i)?e=t==null?void 0:t.night:L.test(i)?e=t==null?void 0:t.lateNight:e=t==null?void 0:t.weeHours,e},lt=()=>console.log(`
 %c üéâüéâüéâ %c %c ‚ú® oh-my-live2d v0.17.0 - https://oml2d.com Happy Hacking !! ‚ú® %c %c üéâüéâüéâ 
`,"background: #add7fb; padding:5px 0;","background: #58b0fc; padding:5px 0;","color: #fff; background: #030307; padding:5px 0;","background: #58b0fc; padding:5px 0;","background: #add7fb; padding:5px 0;"),u=s=>{const t=K({},s);return"width"in s&&S(s.width)&&(t.width=`${s.width}px`),"height"in s&&S(s.height)&&(t.height=`${s.height}px`),t},w=(s,t)=>{Object.assign(t.style,s)},rt=s=>new Promise(t=>setTimeout(t,s)),v=s=>{const t=document.createElement(s.tagName);return t.id=s.id,s.className&&(t.className=s.className),s.dataName&&t.setAttribute("data-name",s.dataName),s.children&&s.children.forEach(e=>{t.appendChild(v(e))}),s.innerHtml&&(t.innerHTML=s.innerHtml),s.innerText&&(t.innerText=s.innerText),t},dt=s=>new Promise(t=>{ct(s==null?void 0:s.id);const e=document.createElement("script");e.id=s==null?void 0:s.id,document.head.append(e),e.src=s==null?void 0:s.url,e.addEventListener("load",()=>{t()})}),ht=()=>r(this,null,function*(){const s=yield fetch("https://unpkg.com/oh-my-live2d@latest/package.json"),{version:t}=yield s.json();ot(t,"0.17.0",">")&&console.warn("[oml2d] Ê£ÄÊü•Âà∞ oh-my-live2d Â≠òÂú®ÊúÄÊñ∞Áâà:",`v${t}`,"ËØ∑ÂâçÂæÄ: https://oml2d.com ‰ª•Ëé∑ÂæóÊúÄÊñ∞ÁâàËØ¶ÁªÜ‰ø°ÊÅØ, Âπ∂ÂèäÊó∂Êõ¥Êñ∞.")}),W=s=>r(this,null,function*(){const e=yield(yield fetch("https://v1.hitokoto.cn")).json();return s?s(e):`${e.hitokoto}    -- ${e.from_who}`}),V=window.matchMedia("screen and (max-width: 768px)"),I=()=>V.matches?c.mobile:c.pc,mt=s=>{V.addEventListener("change",t=>{t.matches?s(c.mobile):s(c.pc)})},ct=s=>{const t=document.getElementById(s);t==null||t.remove()},pt=(s,t)=>{const e=a(s,t);return e.parentElement=t.parentElement||document.body,e},ut=(s,t)=>r(this,null,function*(){return yield dt({url:t[s],id:`oml2d-${s}`}),window.PIXI.utils.skipHello(),{PIXI:window.PIXI,PixiLive2dDisplay:window.PIXI.live2d}}),E=(s,t=0,e=!1)=>{switch(s){case"left":return e?{left:"auto",right:`${t}px`}:{left:`${t}px`,right:"auto"};case"right":return e?{left:`${t}px`,right:"auto"}:{left:"auto",right:`${t}px`}}},yt=(s,t)=>{let e=t;for(;e===t;)e=Math.floor(Math.random()*s);return e};class gt{constructor(t){n(this,"styleSheet");this.options=t}create(){document.getElementById(f.globalStyle)||(this.styleSheet=v({tagName:"style",id:f.globalStyle,innerHtml:D(this.options.primaryColor)}))}mount(){this.styleSheet&&document.head.append(this.styleSheet)}initialize(){this.create(),this.mount(),this.reloadStyleSheet()}initializeStyle(){this.reloadStyleSheet()}reloadStyleSheet(){this.styleSheet&&(this.styleSheet.innerHTML=D(this.options.primaryColor))}}class ft{constructor(t,e){n(this,"element");n(this,"style",{});n(this,"itemStyle",{});n(this,"menuItemList",[]);n(this,"_menuOptions",x.menus);this.options=t,this.globalOml2d=e}reload(t){this.unmount(),this.create(),this.reloadStyle(),this.mount(t)}get menuOptions(){return this._menuOptions}set menuOptions(t){let e;b(t)?e=a(x.menus,t(this.options.models[this.globalOml2d.modelIndex||0],this.globalOml2d.modelIndex||0)):e=t,this._menuOptions=e}createMenuItemElements(t){this.menuItemList=t.map(e=>{const i=v({id:e.id,tagName:"div",dataName:e.id,className:"oml2d-menus-item",innerHtml:`<svg class="oml2d-icon"><use xlink:href="#${e.icon}"></use></svg>`});return i.title=e.title,i.onclick=()=>{var o;(o=e.onClick)==null||o.call(e,this.globalOml2d)},i})}createMenuItem(){if(k(this.menuOptions.items))this.createMenuItemElements(this.menuOptions.items);else if(b(this.menuOptions.items)){const t=this.menuOptions.items(x.menus.items);this.createMenuItemElements(t)}}create(){this.menuOptions=this.options.menus,this.menuOptions.disable===!1&&(this.element=v({id:f.menus,tagName:"div",className:f.menus}),this.createMenuItem())}unmountItems(){this.menuItemList.forEach(t=>{t.remove()})}unmount(){var t;this.unmountItems(),(t=this.element)==null||t.remove()}mountItems(){this.element&&this.element.append(...this.menuItemList)}mount(t){if(this.element){t.append(this.element),this.mountItems(),t.onmouseover=()=>{this.setStyle({opacity:1,visibility:"visible"})},t.onmouseout=()=>{this.setStyle({opacity:0,visibility:"hidden"})};let e;t.ontouchend=()=>{clearTimeout(e),this.setStyle({opacity:1,visibility:"visible"}),e=setTimeout(()=>{this.setStyle({opacity:0,visibility:"hidden"})},3e3)}}}reloadStyle(){switch(this.style={},I()){case c.pc:this.setStyle(u(a(E(this.options.dockedPosition,10,!0),this.menuOptions.style||{}))),this.setItemStyle(u(this.menuOptions.itemStyle||{}));break;case c.mobile:this.setStyle(u(a(E(this.options.dockedPosition,10,!0),this.menuOptions.mobileStyle||{}))),this.setItemStyle(u(this.menuOptions.mobileItemStyle||{}));break}}update(t){this.options=t,this.reloadStyle()}setStyle(t){this.element&&(this.style=a(this.style,t),w(this.style,this.element))}setItemStyle(t){this.itemStyle=a(this.itemStyle,t),this.menuItemList.forEach(e=>{w(this.itemStyle,e)})}}class vt{constructor(t,e,i){n(this,"model");n(this,"currentModelIndex",0);n(this,"currentClothesIndex",0);n(this,"hitAreaFrames");this.options=t,this.PixiLive2dDisplay=e,this.events=i,this.hitAreaFrames=new e.HitAreaFrames}get modelIndex(){return this.currentModelIndex}set modelIndex(t){this.currentModelIndex=t}get modelClothesIndex(){return this.currentClothesIndex}set modelClothesIndex(t){this.currentClothesIndex=t}get currentModelOptions(){return this.options.models[this.modelIndex]}create(){return new Promise((t,e)=>{this.events.emit("load","loading");let i=this.currentModelOptions.path;Array.isArray(i)&&(i=this.currentModelOptions.path[this.modelClothesIndex]),this.model=this.PixiLive2dDisplay.Live2DModel.fromSync(i,{motionPreload:this.currentModelOptions.motionPreloadStrategy||Y.IDLE,onError:()=>{this.events.emit("load","fail"),e()}}),this.model.on("load",()=>{this.events.emit("load","success"),t()}),this.model.on("hit",o=>{this.events.emit("hit",o),this.playRandomMotion(o)})})}settingModel(){switch(I()){case c.mobile:this.setPosition(...this.currentModelOptions.mobilePosition||[]),this.setScale(this.currentModelOptions.mobileScale);break;case c.pc:this.setPosition(...this.currentModelOptions.position||[]),this.setScale(this.currentModelOptions.scale);break}this.currentModelOptions.showHitAreaFrames&&this.addHitAreaFrames(),S(this.currentModelOptions.volume)&&(this.PixiLive2dDisplay.SoundManager.volume=this.currentModelOptions.volume),this.setAnchor(...this.currentModelOptions.anchor||[]),this.setRotation(this.currentModelOptions.rotation)}addHitAreaFrames(){var t;(t=this.model)==null||t.addChild(this.hitAreaFrames)}removeHitAreaFrames(){var t;(t=this.model)==null||t.removeChildren(0)}get modelSize(){var t,e;return{width:((t=this.model)==null?void 0:t.width)||0,height:((e=this.model)==null?void 0:e.height)||0}}setScale(t=.1){var e;(e=this.model)==null||e.scale.set(t,t)}setPosition(t=0,e=0){this.model.x=t,this.model.y=e}setRotation(t=0){this.model.rotation=Math.PI*t/180}setAnchor(t=0,e=0){this.model.anchor.set(t,e)}playMotion(t,e){var i;(i=this.model)==null||i.motion(t,e)}playRandomMotion(t){var o;const e=Object.keys(((o=this.model)==null?void 0:o.internalModel.motionManager.motionGroups)||{});let i=e.find(h=>t[0].includes(h.toLowerCase())||h.toLowerCase().includes(t[0]));i||(i=l(e)),this.playMotion(i||"")}}class St{constructor(t,e){n(this,"element");n(this,"canvasElement");n(this,"status",!1);n(this,"style",{});n(this,"canvasStyle",{});n(this,"currentModelIndex",0);this.options=t,this.events=e}create(){this.element=v({id:f.stage,tagName:"div"}),this.canvasElement=v({id:f.canvas,tagName:"canvas"})}set modelIndex(t){this.currentModelIndex=t}get modelIndex(){return this.currentModelIndex}mount(){this.element&&this.canvasElement&&(this.element.append(this.canvasElement),this.options.parentElement.append(this.element))}reloadStyle(t={}){var e,i,o,h;switch(t=a(t,this.options.stageStyle),t=a(t,E(this.options.dockedPosition)),I()){case c.mobile:t=a(t,((i=(e=this.options.models)==null?void 0:e[this.modelIndex])==null?void 0:i.mobileStageStyle)||{});break;case c.pc:t=a(t,((h=(o=this.options.models)==null?void 0:o[this.modelIndex])==null?void 0:h.stageStyle)||{});break}this.setStyle(u(a(q,t)))}unMount(){var t;(t=this.element)==null||t.remove()}reMount(){this.unMount(),this.mount()}setStyle(t,e){this.element&&(this.style={},this.style=a(this.style,t),w(this.style,this.element),this.setCanvasStyle({width:"100%",height:"100%",zIndex:"9998",position:"relative"}),e==null||e())}setCanvasStyle(t){this.canvasElement&&(this.canvasStyle=a(this.canvasStyle,t),w(this.canvasStyle,this.canvasElement))}get transitionTime(){return this.options.transitionTime}slideIn(){return this.setStyle({animationName:"oml2d-stage-slide-in",animationDuration:`${this.transitionTime}ms`,animationFillMode:"forwards"}),new Promise(t=>{setTimeout(()=>{this.status=!0,this.events.emit("stageSlideIn"),t()},this.transitionTime)})}slideOut(){return new Promise(t=>{this.status?(this.setStyle({animationName:"oml2d-stage-slide-out",animationDuration:`${this.transitionTime}ms`,animationFillMode:"forwards"}),setTimeout(()=>{this.status=!1,this.events.emit("stageSlideOut"),t()},this.transitionTime)):t()})}}class Mt{constructor(t){n(this,"element");n(this,"style",{});n(this,"timer",0);n(this,"status",!1);this.options=t}get statusBarOptions(){return this.options.statusBar}create(){this.options.statusBar.disable||(this.element=v({id:f.statusBar,tagName:"div",innerText:""}))}mount(){this.element&&this.options.parentElement.append(this.element)}reloadStyle(){switch(this.style={},I()){case c.pc:this.setStyle(u(a(E(this.options.dockedPosition),this.options.statusBar.style||{})));break;case c.mobile:this.setStyle(u(a(E(this.options.dockedPosition),this.options.statusBar.mobileStyle||{})));break}}initializeStyle(){this.setColor(this.options.primaryColor),this.reloadStyle()}unMount(){var t;(t=this.element)==null||t.remove()}reMounte(){this.unMount(),this.mount()}setStyle(t){this.element&&(this.style=a(this.style,t),w(t,this.element))}slideIn(){return new Promise(t=>{this.status&&t(),this.setStyle({animationName:`oml2d-status-bar-${this.options.dockedPosition}-slide-in`,animationDuration:`${this.statusBarOptions.transitionTime}ms`,animationFillMode:"forwards"}),setTimeout(()=>{this.status=!0,t()},this.statusBarOptions.transitionTime)})}slideOut(){return new Promise(t=>{this.status?(this.setStyle({animationName:`oml2d-status-bar-${this.options.dockedPosition}-slide-out`,animationDuration:`${this.statusBarOptions.transitionTime}ms`,animationFillMode:"forwards"}),setTimeout(()=>{this.status=!0,t()},this.statusBarOptions.transitionTime)):t()})}showLoading(){this.open(`
      <div style="margin-bottom:3px;">${this.statusBarOptions.loadingMessage}</div>
      <svg class="oml2d-icon oml2d-loading" aria-hidden="true">
        <use xlink:href=#${this.statusBarOptions.loadingIcon}></use>
      </svg>
    `)}hideLoading(){this.popup(this.statusBarOptions.loadSuccessMessage,1e3)}setHoverEvent(t){this.element&&(this.element.onmouseover=(t==null?void 0:t.onIn)||null,this.element.onmouseout=(t==null?void 0:t.onOut)||null)}setClickEvent(t){this.element&&(this.element.onclick=t)}clearHoverEvent(){this.element&&(this.element.onmouseover=null,this.element.onmouseout=null)}clearClickEvent(){this.element&&(this.element.onclick=null)}rest(){this.popup(this.statusBarOptions.restMessage,this.statusBarOptions.restMessageDuration)}loadingError(t){this.setHoverEvent({onIn:()=>{this.setContent(this.statusBarOptions.reloadMessage)},onOut:()=>{this.setContent(this.statusBarOptions.loadFailMessage)}}),this.setClickEvent(()=>{t()}),this.open(this.statusBarOptions.loadFailMessage,this.options.statusBar.errorColor)}get stateColor(){return{info:this.options.primaryColor,error:this.options.statusBar.errorColor}}setColor(t){t&&this.setStyle({backgroundColor:t})}open(t,e=this.options.primaryColor){this.popup(t,!1,e)}close(t,e=this.options.primaryColor,i=0){this.popup(t,i,e)}popup(t,e=0,i=this.options.primaryColor){clearTimeout(this.timer),this.setColor(i),t&&this.setContent(t),this.slideIn().then(()=>{S(e)&&(this.timer=setTimeout(()=>{this.slideOut()},e))})}setContent(t){this.element&&(this.element.innerHTML=t)}}class bt{setModelInfo(t){const e=JSON.stringify(t);localStorage.setItem("OML2D_MODEL_INFO",e)}setModelIndex(t){localStorage.setItem("OML2D_MODEL_INDEX",t.toString())}settModelClothesIndex(t){localStorage.setItem("OML2D_MODEL_CLOTHES_INDEX",t.toString())}getModelClothesIndex(){return Number(localStorage.getItem("OML2D_MODEL_CLOTHES_INDEX"))}getModelIndex(){return Number(localStorage.getItem("OML2D_MODEL_INDEX"))}updateModelInfo(t){const e=t==null?void 0:t.map(i=>i.path);this.setModelInfo(e)}updateModelCurrentIndex(t){this.setModelIndex(t)}updateModelCurrentClothesIndex(t){this.settModelClothesIndex(t)}}class xt{constructor(t,e){n(this,"idlePlayer");n(this,"element");n(this,"contentElement");n(this,"closeTimer",0);n(this,"transitionTime",1e3);n(this,"style",{});n(this,"priority",0);n(this,"contentStyle",{});n(this,"_tipsOptions",x.tips);this.options=t,this.globalOml2d=e}reload(t){this.clear(),this.unmount(),this.create(),this.reloadStyle(),this.mount(t)}get tipsOptions(){return this._tipsOptions}set tipsOptions(t){let e;b(t)?e=a(x.tips,t(this.options.models[this.globalOml2d.modelIndex||0],this.globalOml2d.modelIndex||0)):e=t,this._tipsOptions=e}create(){this.tipsOptions=this.options.tips,this.idlePlayer=this.createIdleMessagePlayer(),this.element=v({id:f.tips,tagName:"div"}),this.contentElement=v({id:"oml2d-tips-content",tagName:"div"})}mount(t){this.element&&this.contentElement&&(this.element.append(this.contentElement),t.append(this.element))}unmount(){var t,e;(t=this.element)==null||t.remove(),(e=this.contentElement)==null||e.remove()}get primaryColor(){return this.options.primaryColor}reloadStyle(){switch(this.style={},this.setContentStyle({wordBreak:"break-all",display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:this.tipsOptions.messageLine,overflow:"hidden"}),I()){case c.pc:this.setStyle(u(this.tipsOptions.style||{}));break;case c.mobile:this.setStyle(u(this.tipsOptions.mobileStyle||{}));break}}setStyle(t={}){var e;this.element&&(this.style=a(this.style,t),(e=this.style).backgroundColor||(e.backgroundColor=this.options.primaryColor),w(this.style,this.element))}setContentStyle(t){this.contentElement&&(this.contentStyle=a(this.contentStyle,t),w(this.contentStyle,this.contentElement))}setContent(t){this.contentElement&&(this.contentElement.innerHTML=t)}showMessage(t,e=3e3,i=0){i<this.priority||(this.priority=i,this.closeTimer&&clearTimeout(this.closeTimer),this.setContent(t),this.setStyle({animationName:"oml2d-display-tips,oml2d-shake-tips"}),this.closeTimer=setTimeout(()=>{this.setStyle({animationName:"oml2d-hidden-tips,oml2d-shake-tips"}),this.priority=0},e))}clear(){var t;this.setStyle({animationName:"oml2d-hidden-tips,oml2d-shake-tips"}),(t=this.idlePlayer)==null||t.stop(),clearTimeout(this.closeTimer),this.priority=0}notification(t,e=3e3,i=3){var o;(o=this.idlePlayer)==null||o.stop(),this.showMessage(t,e,i),setTimeout(()=>{var h;(h=this.idlePlayer)==null||h.start()},e+this.transitionTime)}welcome(){const t=at(this.tipsOptions.welcomeTips||{}),{duration:e,priority:i}=this.tipsOptions.welcomeTips;this.notification(t,e,i)}copy(){if(this.tipsOptions.copyTips.message.length){const t=l(this.tipsOptions.copyTips.message)||"";this.notification(t,this.tipsOptions.copyTips.duration,this.tipsOptions.copyTips.priority)}}createIdleMessagePlayer(){let t="";const e=d(()=>r(this,null,function*(){this.tipsOptions.idleTips.wordTheDay?b(this.tipsOptions.idleTips.wordTheDay)?t=yield W(this.tipsOptions.idleTips.wordTheDay):t=yield W():b(this.tipsOptions.idleTips.message)?t=yield this.tipsOptions.idleTips.message():t=l(this.tipsOptions.idleTips.message||[])||"",t?(this.showMessage(t,this.tipsOptions.idleTips.duration,this.tipsOptions.idleTips.priority),yield rt(this.tipsOptions.idleTips.duration)):e.stop()}),this.tipsOptions.idleTips.interval);return e}}class wt{constructor(t,e,i,o){n(this,"store");n(this,"globalStyle");n(this,"stage");n(this,"statusBar");n(this,"tips");n(this,"menus");n(this,"models");n(this,"pixiApp");n(this,"currentModelIndex",0);n(this,"currentModelClothesIndex",0);n(this,"options");this.globalOml2d=t,this.events=e,this.PIXI=i,this.PixiLive2dDisplay=o,this.options=this.globalOml2d.options,this.globalStyle=new gt(this.options),this.stage=new St(this.options,this.events),this.statusBar=new Mt(this.options),this.tips=new xt(this.options,this.globalOml2d),this.menus=new ft(this.options,this.globalOml2d),this.models=new vt(this.options,this.PixiLive2dDisplay,this.events),this.store=new bt,this.modelIndex=this.store.getModelIndex(),this.modelClothesIndex=this.store.getModelClothesIndex()}get mobileHidden(){return!this.options.mobileDisplay&&I()===c.mobile}set modelIndex(t){this.currentModelIndex=t,this.stage.modelIndex=t,this.models.modelIndex=t,this.store.updateModelCurrentIndex(t)}get modelIndex(){return this.currentModelIndex}set modelClothesIndex(t){this.currentModelClothesIndex=t,this.models.modelClothesIndex=t,this.store.updateModelCurrentClothesIndex(t)}get modelClothesIndex(){return this.currentModelClothesIndex}create(){this.store.updateModelInfo(this.options.models),this.stage.create(),this.pixiApp=new T(this.PIXI,this.stage),this.statusBar.create(),this.statusBar.initializeStyle()}mount(){this.stage.mount(),this.statusBar.mount()}loadModel(t){return r(this,null,function*(){if(this.tips.clear(),yield this.stage.slideOut(),!(!this.options.models||!this.options.models.length)){if(this.mobileHidden){this.statusBar.rest();return}return this.statusBar.showLoading(),this.models.create().catch(()=>{this.statusBar.loadingError(()=>void this.reloadModel())}).then(()=>{var e,i;(e=this.pixiApp)==null||e.mount(this.models.model),this.menus.reload(this.stage.element),this.tips.reload(this.stage.element),this.models.settingModel(),this.stage.reloadStyle(this.models.modelSize),(i=this.pixiApp)==null||i.resize(),this.statusBar.hideLoading(),t()})}})}reloadModel(){return r(this,null,function*(){var t;yield this.loadModel(()=>{this.stage.slideIn()}),(t=this.tips.idlePlayer)==null||t.start()})}loadRandomModel(){return r(this,null,function*(){var t;this.modelIndex=yt(this.options.models.length,this.modelIndex),this.modelClothesIndex=0,this.statusBar.open(this.options.statusBar.switchingMessage),yield this.loadModel(()=>{this.stage.slideIn()}),(t=this.tips.idlePlayer)==null||t.start()})}loadNextModel(){return r(this,null,function*(){var t;++this.modelIndex>=this.options.models.length&&(this.modelIndex=0),this.modelClothesIndex=0,this.statusBar.open(this.options.statusBar.switchingMessage),yield this.loadModel(()=>{this.stage.slideIn()}),(t=this.tips.idlePlayer)==null||t.start()})}loadSpecificModel(t,e){return r(this,null,function*(){var i;t>=0&&t<this.options.models.length&&(this.modelIndex=t,this.modelClothesIndex=e||0,this.statusBar.open(this.options.statusBar.switchingMessage),yield this.loadModel(()=>{this.stage.slideIn()}),(i=this.tips.idlePlayer)==null||i.start())})}loadNextModelClothes(){return r(this,null,function*(){const t=this.options.models[this.modelIndex].path;Array.isArray(this.options.models[this.modelIndex].path)&&(++this.modelClothesIndex>=t.length&&(this.modelClothesIndex=0),yield this.loadModel(()=>{this.stage.slideIn()}))})}initialize(){ht(),this.options.sayHello&&lt(),this.registerGlobalEvent(),this.globalStyle.initialize(),this.create(),this.mount(),this.loadModel(()=>{this.options.initialStatus=="sleep"?(this.tips.clear(),this.statusBar.open(this.options.statusBar.restMessage),this.statusBar.setClickEvent(()=>{this.stage.slideIn(),this.statusBar.close(),this.statusBar.clearHoverEvent(),this.statusBar.clearClickEvent()})):this.stage.slideIn()})}registerGlobalEvent(){mt(()=>{this.reloadModel()}),this.globalOml2d.onStageSlideIn(()=>{this.tips.welcome()}),window.document.oncopy=()=>{this.tips.copy()}}}class It{constructor(t){n(this,"options",x);n(this,"events");n(this,"oml2d");this.events=new g,this.setup(t)}setup(t){return r(this,null,function*(){this.options=pt(x,t);const{PIXI:e,PixiLive2dDisplay:i}=yield ut(this.options.importType,this.options.libraryUrls);this.oml2d=new wt(this,this.events,e,i),this.oml2d.initialize()})}get modelIndex(){var t;return(t=this.oml2d)==null?void 0:t.modelIndex}get model(){var t;if(S(this.modelIndex))return(t=this.oml2d)==null?void 0:t.models.currentModelOptions}tipsMessage(t,e,i){var o;(o=this.oml2d)==null||o.tips.notification(t,e,i)}loadRandomModel(){return r(this,null,function*(){var t;yield(t=this.oml2d)==null?void 0:t.loadRandomModel()})}loadNextModel(){return r(this,null,function*(){var t;yield(t=this.oml2d)==null?void 0:t.loadNextModel()})}loadSpecificModel(t,e){return r(this,null,function*(){var i;yield(i=this.oml2d)==null?void 0:i.loadSpecificModel(t,e)})}loadNextModelClothes(){return r(this,null,function*(){var t;yield(t=this.oml2d)==null?void 0:t.loadNextModelClothes()})}reloadModel(){return r(this,null,function*(){var t;yield(t=this.oml2d)==null?void 0:t.reloadModel()})}stageSlideIn(){return r(this,null,function*(){var t;yield(t=this.oml2d)==null?void 0:t.stage.slideIn()})}stageSlideOut(){return r(this,null,function*(){var t;yield(t=this.oml2d)==null?void 0:t.stage.slideOut()})}setStageStyle(t){var e,i,o,h;(e=this.oml2d)==null||e.stage.setStyle(u(t)),(o=(i=this.oml2d)==null?void 0:i.pixiApp)==null||o.resize(),this.model&&(this.model.stageStyle=a((h=this.model)==null?void 0:h.stageStyle,t))}clearTips(){var t;(t=this.oml2d)==null||t.tips.clear()}stopTipsIdle(){var t,e;(e=(t=this.oml2d)==null?void 0:t.tips.idlePlayer)==null||e.stop()}startTipsIdle(){var t,e;(e=(t=this.oml2d)==null?void 0:t.tips.idlePlayer)==null||e.start()}statusBarOpen(t,e){var i;(i=this.oml2d)==null||i.statusBar.open(t,e)}statusBarClose(t,e,i){var o;(o=this.oml2d)==null||o.statusBar.close(t,e,i)}statusBarPopup(t,e,i){var o;(o=this.oml2d)==null||o.statusBar.popup(t,e,i)}statusBarClearEvents(){var t,e;(t=this.oml2d)==null||t.statusBar.clearClickEvent(),(e=this.oml2d)==null||e.statusBar.clearHoverEvent()}setStatusBarClickEvent(t){var e;(e=this.oml2d)==null||e.statusBar.setClickEvent(t)}setStatusBarHoverEvent(t){var e;(e=this.oml2d)==null||e.statusBar.setHoverEvent(t)}setModelPosition(t){var o;const{x:e,y:i}=t;(o=this.oml2d)==null||o.models.setPosition(e,i),this.model&&(this.model.position=[e||0,i||0])}setModelRotation(t){var e;(e=this.oml2d)==null||e.models.setRotation(t),this.model&&(this.model.rotation=t)}setModelAnchor(t){var o;const{x:e,y:i}=t;(o=this.oml2d)==null||o.models.setAnchor(e,i),this.model&&(this.model.anchor=[e||0,i||0])}setModelScale(t){var e;(e=this.oml2d)==null||e.models.setScale(t),this.model&&(this.model.scale=t)}showModelHitAreaFrames(){var t;(t=this.oml2d)==null||t.models.addHitAreaFrames()}hideModelHitAreaFrames(){var t;(t=this.oml2d)==null||t.models.removeHitAreaFrames()}onLoad(t){this.events.add("load",t)}onStageSlideIn(t){this.events.add("stageSlideIn",t)}onStageSlideOut(t){this.events.add("stageSlideOut",t)}}const Ot=t=>new It(t);m.loadOml2d=Ot,Object.defineProperty(m,Symbol.toStringTag,{value:"Module"})});
